# 📊 WaveTrend 扫描器 V2.0

扫描纳斯达克100及高波动股票，寻找超买/超卖 + 反转确认信号。

## 🆕 V2.0 新增功能

| 功能 | 说明 |
|------|------|
| **背离检测** | 摆动点方法，检测价格与WT1的背离 |
| **RSI双重确认** | RSI < 30 超卖 / RSI > 70 超买 |
| **成交量分析** | 放量/缩量判断，量价配合确认 |
| **综合评分** | 满分9分，按评分排序 |

## 📊 评分系统

| 条件 | 分数 | 说明 |
|------|------|------|
| WT超买/超卖 | +1 | WT1 ≤ -60 或 ≥ 60 |
| 金叉/死叉 | +2 | WT1 上穿/下穿 WT2 |
| WT1拐头 | +1 | 方向改变 |
| 背离 | +2 | 价格新低但WT1更高（或反之） |
| RSI确认 | +1 | RSI < 30 或 > 70 |
| 成交量确认 | +1 | 缩量企稳或放量反弹 |

**评分等级：**
- A级 (≥5分) ⭐⭐⭐ 强反转信号
- B级 (3-4分) ⭐⭐ 中等信号
- C级 (2分) ⭐ 弱信号
- D级 (<2分) 仅超买超卖，无确认

## 🚀 使用方式

### 本地运行

```bash
pip install -r requirements.txt

# 命令行扫描
python scanner.py

# 网页界面
streamlit run app.py
```

### Streamlit Cloud 部署

1. 上传到 GitHub
2. 访问 share.streamlit.io
3. 连接仓库，选择 app.py
4. 部署完成

## 📖 背离检测原理

**看涨背离（底背离）：**
```
价格: 创新低 ↓
WT1:  没有新低 ↑
= 卖压衰竭，可能反转向上
```

**看跌背离（顶背离）：**
```
价格: 创新高 ↑
WT1:  没有新高 ↓
= 买压衰竭，可能反转向下
```

## 📋 输出示例

```
🟢 超卖信号 (WT1 ≤ -60) - 潜在做多机会 [3只] 【按评分排序】

评分   | 股票     | 价格       | 涨跌%  | WT1     | 方向 | RSI   | 成交量   | 背离     | 交叉
-------|----------|------------|--------|---------|------|-------|----------|----------|--------
5/9 ⭐⭐⭐ | ENPH     | $65.23     | +1.52% | -65.18  | ↑    | 28.5  | 📉缩量   | ✅底背离 | 🔼 金叉
       └─ WT超卖, 金叉, 拐头↑, 底背离, RSI<30
4/9 ⭐⭐ | MRNA     | $38.52     | -0.85% | -68.32  | ↓    | 25.2  | 📉缩量   | ✅底背离 |
       └─ WT超卖, 底背离, RSI<30, 缩量
2/9 ⭐  | ILMN     | $102.45    | +0.32% | -61.05  | →    | 35.8  | 正常     |          |
       └─ WT超卖, 拐头↑
```

## ⚠️ 免责声明

本工具仅供学习和参考，不构成投资建议。投资有风险，入市需谨慎。
